<div class="login-wrapper">
  <mat-card class="login-card">
    <h2 class="title">Iniciar sesión</h2>
    <p class="subtitle">
      Accede para gestionar tus deudas
    </p>

    <form [formGroup]="form" (ngSubmit)="submit()">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Correo electrónico</mat-label>
        <input
          matInput
          type="email"
          formControlName="email"
          placeholder="correo@ejemplo.com"
        />
        <mat-error *ngIf="form.controls.email.invalid">
          Correo electrónico inválido
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Contraseña</mat-label>
        <input
          matInput
          type="password"
          formControlName="password"
          placeholder="••••••••"
        />
        <mat-error *ngIf="form.controls.password.invalid">
          La contraseña es obligatoria
        </mat-error>
      </mat-form-field>

      <button
        mat-flat-button
        color="primary"
        class="login-button"
        type="submit"
        [disabled]="loading || form.invalid"
      >
        <ng-container *ngIf="!loading">
          Ingresar
        </ng-container>

        <ng-container *ngIf="loading">
          <mat-spinner diameter="20"></mat-spinner>
        </ng-container>
      </button>

      <p class="error" *ngIf="error">
        {{ error }}
      </p>

      <div class="footer">
        <span>¿No tienes cuenta?</span>
        <a routerLink="/auth/register">Registrarse</a>
      </div>
    </form>
  </mat-card>
</div>
